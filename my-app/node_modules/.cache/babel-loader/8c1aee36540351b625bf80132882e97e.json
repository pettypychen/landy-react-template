{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { notification } from \"antd\";\nimport axios from \"axios\";\n\nconst useForm = validate => {\n  _s();\n\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [shouldSubmit, setShouldSubmit] = useState(false);\n\n  const openNotificationWithIcon = type => {\n    notification[type]({\n      message: \"Success\",\n      description: \"Your message has been sent!\"\n    });\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setErrors(validate(values)); // Your url for API\n\n    const url = \"\";\n\n    if (Object.keys(values).length === 3) {\n      axios.post(url, { ...values\n      }).then(() => {\n        setShouldSubmit(true);\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (Object.keys(errors).length === 0 && shouldSubmit) {\n      setValues(\"\");\n      openNotificationWithIcon(\"success\");\n    }\n  }, [errors, shouldSubmit]);\n\n  const handleChange = event => {\n    event.persist();\n    setValues(values => ({ ...values,\n      [event.target.name]: event.target.value\n    }));\n    setErrors(errors => ({ ...errors,\n      [event.target.name]: \"\"\n    }));\n  };\n\n  return {\n    handleChange,\n    handleSubmit,\n    values,\n    errors\n  };\n};\n\n_s(useForm, \"0UnAs8VM/NLkYOO2zrZDWUW/LkA=\");\n\nexport default useForm;","map":{"version":3,"sources":["/Users/pettychen/physicle/my-app/src/components/ContactForm/useForm.js"],"names":["useState","useEffect","notification","axios","useForm","validate","values","setValues","errors","setErrors","shouldSubmit","setShouldSubmit","openNotificationWithIcon","type","message","description","handleSubmit","event","preventDefault","url","Object","keys","length","post","then","handleChange","persist","target","name","value"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,YAAT,QAA6B,MAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,OAAO,GAAIC,QAAD,IAAc;AAAA;;AAC5B,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACQ,MAAD,EAASC,SAAT,IAAsBT,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACU,YAAD,EAAeC,eAAf,IAAkCX,QAAQ,CAAC,KAAD,CAAhD;;AAEA,QAAMY,wBAAwB,GAAIC,IAAD,IAAU;AACzCX,IAAAA,YAAY,CAACW,IAAD,CAAZ,CAAmB;AACjBC,MAAAA,OAAO,EAAE,SADQ;AAEjBC,MAAAA,WAAW,EAAE;AAFI,KAAnB;AAID,GALD;;AAOA,QAAMC,YAAY,GAAIC,KAAD,IAAW;AAC9BA,IAAAA,KAAK,CAACC,cAAN;AACAT,IAAAA,SAAS,CAACJ,QAAQ,CAACC,MAAD,CAAT,CAAT,CAF8B,CAG9B;;AACA,UAAMa,GAAG,GAAG,EAAZ;;AACA,QAAIC,MAAM,CAACC,IAAP,CAAYf,MAAZ,EAAoBgB,MAApB,KAA+B,CAAnC,EAAsC;AACpCnB,MAAAA,KAAK,CACFoB,IADH,CACQJ,GADR,EACa,EACT,GAAGb;AADM,OADb,EAIGkB,IAJH,CAIQ,MAAM;AACVb,QAAAA,eAAe,CAAC,IAAD,CAAf;AACD,OANH;AAOD;AACF,GAdD;;AAgBAV,EAAAA,SAAS,CAAC,MAAM;AACd,QAAImB,MAAM,CAACC,IAAP,CAAYb,MAAZ,EAAoBc,MAApB,KAA+B,CAA/B,IAAoCZ,YAAxC,EAAsD;AACpDH,MAAAA,SAAS,CAAC,EAAD,CAAT;AACAK,MAAAA,wBAAwB,CAAC,SAAD,CAAxB;AACD;AACF,GALQ,EAKN,CAACJ,MAAD,EAASE,YAAT,CALM,CAAT;;AAOA,QAAMe,YAAY,GAAIR,KAAD,IAAW;AAC9BA,IAAAA,KAAK,CAACS,OAAN;AACAnB,IAAAA,SAAS,CAAED,MAAD,KAAa,EACrB,GAAGA,MADkB;AAErB,OAACW,KAAK,CAACU,MAAN,CAAaC,IAAd,GAAqBX,KAAK,CAACU,MAAN,CAAaE;AAFb,KAAb,CAAD,CAAT;AAIApB,IAAAA,SAAS,CAAED,MAAD,KAAa,EAAE,GAAGA,MAAL;AAAa,OAACS,KAAK,CAACU,MAAN,CAAaC,IAAd,GAAqB;AAAlC,KAAb,CAAD,CAAT;AACD,GAPD;;AASA,SAAO;AACLH,IAAAA,YADK;AAELT,IAAAA,YAFK;AAGLV,IAAAA,MAHK;AAILE,IAAAA;AAJK,GAAP;AAMD,CAlDD;;GAAMJ,O;;AAoDN,eAAeA,OAAf","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { notification } from \"antd\";\r\nimport axios from \"axios\";\r\n\r\nconst useForm = (validate) => {\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [shouldSubmit, setShouldSubmit] = useState(false);\r\n\r\n  const openNotificationWithIcon = (type) => {\r\n    notification[type]({\r\n      message: \"Success\",\r\n      description: \"Your message has been sent!\",\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    setErrors(validate(values));\r\n    // Your url for API\r\n    const url = \"\";\r\n    if (Object.keys(values).length === 3) {\r\n      axios\r\n        .post(url, {\r\n          ...values,\r\n        })\r\n        .then(() => {\r\n          setShouldSubmit(true);\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(errors).length === 0 && shouldSubmit) {\r\n      setValues(\"\");\r\n      openNotificationWithIcon(\"success\");\r\n    }\r\n  }, [errors, shouldSubmit]);\r\n\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n    setValues((values) => ({\r\n      ...values,\r\n      [event.target.name]: event.target.value,\r\n    }));\r\n    setErrors((errors) => ({ ...errors, [event.target.name]: \"\" }));\r\n  };\r\n\r\n  return {\r\n    handleChange,\r\n    handleSubmit,\r\n    values,\r\n    errors,\r\n  };\r\n};\r\n\r\nexport default useForm;\r\n"]},"metadata":{},"sourceType":"module"}